import"./modulepreload-polyfill-B5Qt9EMX.js";document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("trail"),m=document.getElementById("nextHint"),h=document.getElementById("prevHint"),w=document.getElementById("progressIndicator"),a=document.querySelectorAll(".design-card"),g=document.getElementById("detailSection"),v=document.getElementById("detailClose"),B=document.getElementById("detailImage"),u=document.getElementById("detailScreenshot"),b=document.getElementById("detailBadge"),C=document.getElementById("detailTitle"),T=document.getElementById("detailDescription"),y=document.getElementById("detailMeta"),f=Array.from(a).map(e=>({title:e.dataset.title,badge:e.dataset.badge,gradient:e.dataset.gradient,screenshot:e.dataset.screenshot,description:e.dataset.description,meta:JSON.parse(e.dataset.meta||"[]")}));console.log("Card data loaded:",f.length,"cards"),console.log("Screenshot paths:",f.map(e=>e.screenshot));function k(e){const t=f[e];console.log("Loading screenshot:",t.screenshot);const s=t.screenshot.startsWith("/")?t.screenshot:"/"+t.screenshot;console.log("Full URL:",window.location.origin+s),B.style.backgroundImage=t.gradient,b.textContent=t.badge,u.src=s,u.onerror=function(){console.error("Failed to load image:",s),console.error("Attempted URL:",this.src),console.error("Image element:",this),fetch(s,{method:"HEAD"}).then(o=>{console.error("Image fetch response:",{status:o.status,statusText:o.statusText,headers:Object.fromEntries(o.headers.entries())})}).catch(o=>{console.error("Image fetch error:",o)}),this.alt=`Failed to load: ${s}`},u.onload=function(){console.log("Image loaded successfully:",s)},C.textContent=t.title,T.textContent=t.description,y.innerHTML="",t.meta.forEach(o=>{const n=document.createElement("div");n.className="meta-item",n.innerHTML=`
                <div class="meta-label">${o.label}</div>
                <div class="meta-value">${o.value}</div>
            `,y.appendChild(n)}),g.classList.add("active"),setTimeout(()=>{g.scrollIntoView({behavior:"smooth",block:"nearest"})},100)}function R(){g.classList.remove("active")}v&&v.addEventListener("click",R),a.forEach((e,t)=>{const s=document.createElement("div");s.className="progress-dot",t===0&&s.classList.add("active"),w.appendChild(s)});const p=document.querySelectorAll(".progress-dot");a.length>0&&a[0].classList.add("focused");function E(e){e>=a.length-1?(m.style.opacity="0",m.style.pointerEvents="none"):(m.style.opacity="1",m.style.pointerEvents="auto"),e<=0?(h.style.opacity="0",h.style.pointerEvents="none"):(h.style.opacity="1",h.style.pointerEvents="auto")}function I(){const e=window.innerWidth<=768?20:30;return a[0].offsetWidth+e}r.addEventListener("scroll",()=>{const e=r.getBoundingClientRect(),t=e.left+e.width/2;let s=0,o=1/0;a.forEach((n,c)=>{const l=n.getBoundingClientRect(),d=l.left+l.width/2,i=Math.abs(t-d);i<o&&(o=i,s=c)}),a.forEach((n,c)=>{const l=Math.abs(c-s);if(l===0)n.classList.remove("peeking"),n.classList.add("focused"),p[c].classList.add("active");else if(n.classList.remove("focused"),l===1){n.classList.add("peeking");const d=window.innerWidth<=768?"30px":"50px",i=window.innerWidth<=768?"0.9":"0.85";n.style.transform=`scale(${i}) translateX(${d})`,p[c].classList.remove("active")}else{n.classList.add("peeking");const d=window.innerWidth<=768?"50px":"80px",i=window.innerWidth<=768?"0.85":"0.75";n.style.transform=`scale(${i}) translateX(${d})`,p[c].classList.remove("active")}}),E(s)}),m.addEventListener("click",()=>{const e=I();r.scrollBy({left:e,behavior:"smooth"})}),h.addEventListener("click",()=>{const e=I();r.scrollBy({left:-e,behavior:"smooth"})}),a.forEach((e,t)=>{e.addEventListener("click",()=>{e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}),setTimeout(()=>{k(t)},600)})});let L;window.addEventListener("resize",()=>{clearTimeout(L),L=setTimeout(()=>{const e=r.getBoundingClientRect(),t=e.left+e.width/2;let s=0,o=1/0;a.forEach((n,c)=>{const l=n.getBoundingClientRect(),d=l.left+l.width/2,i=Math.abs(t-d);i<o&&(o=i,s=c)}),E(s)},100)})});
