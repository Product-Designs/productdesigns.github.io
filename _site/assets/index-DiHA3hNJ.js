(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))g(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&g(f)}).observe(document,{childList:!0,subtree:!0});function m(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function g(t){if(t.ep)return;t.ep=!0;const o=m(t);fetch(t.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const h=document.getElementById("trail"),a=document.getElementById("nextHint"),m=document.getElementById("prevHint"),g=document.getElementById("progressIndicator"),t=document.querySelectorAll(".design-card"),o=document.getElementById("detailSection"),f=document.getElementById("detailClose"),B=document.getElementById("detailImage"),p=document.getElementById("detailScreenshot"),b=document.getElementById("detailBadge"),C=document.getElementById("detailTitle"),T=document.getElementById("detailDescription"),E=document.getElementById("detailMeta"),y=Array.from(t).map(e=>({title:e.dataset.title,badge:e.dataset.badge,gradient:e.dataset.gradient,screenshot:e.dataset.screenshot,description:e.dataset.description,meta:JSON.parse(e.dataset.meta||"[]")}));console.log("Card data loaded:",y.length,"cards"),console.log("Screenshot paths:",y.map(e=>e.screenshot));function R(e){const s=y[e];console.log("Loading screenshot:",s.screenshot);const n=s.screenshot.startsWith("/")?s.screenshot:"/"+s.screenshot;console.log("Full URL:",window.location.origin+n),B.style.backgroundImage=s.gradient,b.textContent=s.badge,p.src=n,p.onerror=function(){console.error("Failed to load image:",n),console.error("Attempted URL:",this.src),console.error("Image element:",this),fetch(n,{method:"HEAD"}).then(c=>{console.error("Image fetch response:",{status:c.status,statusText:c.statusText,headers:Object.fromEntries(c.headers.entries())})}).catch(c=>{console.error("Image fetch error:",c)}),this.alt=`Failed to load: ${n}`},p.onload=function(){console.log("Image loaded successfully:",n)},C.textContent=s.title,T.textContent=s.description,E.innerHTML="",s.meta.forEach(c=>{const i=document.createElement("div");i.className="meta-item",i.innerHTML=`
                <div class="meta-label">${c.label}</div>
                <div class="meta-value">${c.value}</div>
            `,E.appendChild(i)}),o.classList.add("active"),setTimeout(()=>{o.scrollIntoView({behavior:"smooth",block:"nearest"})},100)}function W(){o.classList.remove("active")}f&&f.addEventListener("click",W),t.forEach((e,s)=>{const n=document.createElement("div");n.className="progress-dot",s===0&&n.classList.add("active"),g.appendChild(n)});const v=document.querySelectorAll(".progress-dot");t.length>0&&t[0].classList.add("focused");function L(e){e>=t.length-1?(a.style.opacity="0",a.style.pointerEvents="none"):(a.style.opacity="1",a.style.pointerEvents="auto"),e<=0?(m.style.opacity="0",m.style.pointerEvents="none"):(m.style.opacity="1",m.style.pointerEvents="auto")}function I(){const e=window.innerWidth<=768?20:30;return t[0].offsetWidth+e}h.addEventListener("scroll",()=>{const e=h.getBoundingClientRect(),s=e.left+e.width/2;let n=0,c=1/0;t.forEach((i,r)=>{const d=i.getBoundingClientRect(),u=d.left+d.width/2,l=Math.abs(s-u);l<c&&(c=l,n=r)}),t.forEach((i,r)=>{const d=Math.abs(r-n);if(d===0)i.classList.remove("peeking"),i.classList.add("focused"),v[r].classList.add("active");else if(i.classList.remove("focused"),d===1){i.classList.add("peeking");const u=window.innerWidth<=768?"30px":"50px",l=window.innerWidth<=768?"0.9":"0.85";i.style.transform=`scale(${l}) translateX(${u})`,v[r].classList.remove("active")}else{i.classList.add("peeking");const u=window.innerWidth<=768?"50px":"80px",l=window.innerWidth<=768?"0.85":"0.75";i.style.transform=`scale(${l}) translateX(${u})`,v[r].classList.remove("active")}}),L(n)}),a.addEventListener("click",()=>{const e=I();h.scrollBy({left:e,behavior:"smooth"})}),m.addEventListener("click",()=>{const e=I();h.scrollBy({left:-e,behavior:"smooth"})}),t.forEach((e,s)=>{e.addEventListener("click",()=>{e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}),setTimeout(()=>{R(s)},600)})});let w;window.addEventListener("resize",()=>{clearTimeout(w),w=setTimeout(()=>{const e=h.getBoundingClientRect(),s=e.left+e.width/2;let n=0,c=1/0;t.forEach((i,r)=>{const d=i.getBoundingClientRect(),u=d.left+d.width/2,l=Math.abs(s-u);l<c&&(c=l,n=r)}),L(n)},100)})});
