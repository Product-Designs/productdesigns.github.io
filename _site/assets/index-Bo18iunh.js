(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))h(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&h(f)}).observe(document,{childList:!0,subtree:!0});function m(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function h(t){if(t.ep)return;t.ep=!0;const s=m(t);fetch(t.href,s)}})();document.addEventListener("DOMContentLoaded",()=>{const g=document.getElementById("trail"),c=document.getElementById("nextHint"),m=document.getElementById("prevHint"),h=document.getElementById("progressIndicator"),t=document.querySelectorAll(".design-card"),s=document.getElementById("detailSection"),f=document.getElementById("detailClose"),B=document.getElementById("detailImage"),p=document.getElementById("detailScreenshot"),b=document.getElementById("detailBadge"),C=document.getElementById("detailTitle"),R=document.getElementById("detailDescription"),E=document.getElementById("detailMeta"),y=Array.from(t).map(e=>({title:e.dataset.title,badge:e.dataset.badge,gradient:e.dataset.gradient,screenshot:e.dataset.screenshot,description:e.dataset.description,meta:JSON.parse(e.dataset.meta||"[]")}));console.log("Card data loaded:",y.length,"cards"),console.log("Screenshot paths:",y.map(e=>e.screenshot));function W(e){const n=y[e];console.log("Loading screenshot:",n.screenshot);const o=n.screenshot.startsWith("/")?n.screenshot:"/"+n.screenshot;console.log("Full URL:",window.location.origin+o),B.style.backgroundImage=n.gradient,b.textContent=n.badge,p.src=o,p.onerror=function(){console.error("Failed to load image:",o),console.error("Attempted URL:",this.src),console.error("Image element:",this)},p.onload=function(){console.log("Image loaded successfully:",o)},C.textContent=n.title,R.textContent=n.description,E.innerHTML="",n.meta.forEach(l=>{const i=document.createElement("div");i.className="meta-item",i.innerHTML=`
                <div class="meta-label">${l.label}</div>
                <div class="meta-value">${l.value}</div>
            `,E.appendChild(i)}),s.classList.add("active"),setTimeout(()=>{s.scrollIntoView({behavior:"smooth",block:"nearest"})},100)}function M(){s.classList.remove("active")}f&&f.addEventListener("click",M),t.forEach((e,n)=>{const o=document.createElement("div");o.className="progress-dot",n===0&&o.classList.add("active"),h.appendChild(o)});const v=document.querySelectorAll(".progress-dot");t.length>0&&t[0].classList.add("focused");function L(e){e>=t.length-1?(c.style.opacity="0",c.style.pointerEvents="none"):(c.style.opacity="1",c.style.pointerEvents="auto"),e<=0?(m.style.opacity="0",m.style.pointerEvents="none"):(m.style.opacity="1",m.style.pointerEvents="auto")}function I(){const e=window.innerWidth<=768?20:30;return t[0].offsetWidth+e}g.addEventListener("scroll",()=>{const e=g.getBoundingClientRect(),n=e.left+e.width/2;let o=0,l=1/0;t.forEach((i,r)=>{const d=i.getBoundingClientRect(),u=d.left+d.width/2,a=Math.abs(n-u);a<l&&(l=a,o=r)}),t.forEach((i,r)=>{const d=Math.abs(r-o);if(d===0)i.classList.remove("peeking"),i.classList.add("focused"),v[r].classList.add("active");else if(i.classList.remove("focused"),d===1){i.classList.add("peeking");const u=window.innerWidth<=768?"30px":"50px",a=window.innerWidth<=768?"0.9":"0.85";i.style.transform=`scale(${a}) translateX(${u})`,v[r].classList.remove("active")}else{i.classList.add("peeking");const u=window.innerWidth<=768?"50px":"80px",a=window.innerWidth<=768?"0.85":"0.75";i.style.transform=`scale(${a}) translateX(${u})`,v[r].classList.remove("active")}}),L(o)}),c.addEventListener("click",()=>{const e=I();g.scrollBy({left:e,behavior:"smooth"})}),m.addEventListener("click",()=>{const e=I();g.scrollBy({left:-e,behavior:"smooth"})}),t.forEach((e,n)=>{e.addEventListener("click",()=>{e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"}),setTimeout(()=>{W(n)},600)})});let w;window.addEventListener("resize",()=>{clearTimeout(w),w=setTimeout(()=>{const e=g.getBoundingClientRect(),n=e.left+e.width/2;let o=0,l=1/0;t.forEach((i,r)=>{const d=i.getBoundingClientRect(),u=d.left+d.width/2,a=Math.abs(n-u);a<l&&(l=a,o=r)}),L(o)},100)})});
